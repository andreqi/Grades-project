<html>
<head>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="nodeView.js"></script>
  <style type="text/css">
    #label tspan,
    #grade tspan,
    #up tspan,
    #low tspan {
      cursor: text;
    }
  </style>
  <script type="text/javascript">

  window.addEventListener('load', function() {
    d3.xml('node_svg.svg', 'image/svg+xml', function(error, data) {
      var nodeTemplate = data.documentElement.getElementById('node-template');
      var $tmp = $(nodeTemplate);
      var svg = d3.select('#container');
      svg.node().appendChild(nodeTemplate);
      var toggle = true;
      d3.select(nodeTemplate).select('#data').on('click', function () {
        if (toggle) {
          d3.select(nodeTemplate).select('#controls').style('display', '');
        } else { 
          d3.select(nodeTemplate).select('#controls').style('display', 'none');
        }
        toggle = 1 - toggle;
      });
      d3.select(nodeTemplate).style('cursor', 'pointer');
    });
  });
  </script>
</head>
<body>
  <svg xmlns="http://www.w3.org/2000/svg" 
    version="1.2" baseProfile="tiny" height='1000px' width='1800px' id='container'>
    <g id='edges'></g>
    <g id='nodes'></g>
  </svg>
</body>
</html>
